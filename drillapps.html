
<!DOCTYPE html> 
<html lang='en'>
    <head>
        <title>Multiple Series Types</title>
        <meta charset="utf-8"/>

        <!-- boilerplate headers are injected with head.js, grab them from the live example header, or include a link to head.js -->
        <script src="./head.js"></script>
        <script src="./sampleData.js"></script>
        <script src="./chartData.js"></script>
    </head>
    <body style="font-family: 'Segoe UI', sans-serif;">
        <div id="chart1" style="width: 100%; height: 600px;"></div>
        <script>
            window.onload = function() {
                
                // create fake data in the shape our charts expect
                var from = new Date("2021-05-21T11:00:00.000Z");
                var to = new Date("2021-05-21T12:00:00.000Z");

                var eventValueMapping = {
                    badEvent: {
                        color: '#FD625E'
                    },
                    goodEvent: {
                        color: '#3599B8'
                    }
                }

                var valueMapping = {
                    state1: {
                        color: '#F2C80F'
                    }, 
                    state2: {
                        color: '#FD625E'
                    },
                    state3: {
                        color:'#3599B8'
                    }
                }

                // render the data in a chart
                var onElementClick = function (aggKey, sb, ts, measures) { console.log(aggKey, sb, ts, measures); }
                var tsiClient = new TsiClient();
                var lineChart = new tsiClient.ux.LineChart(document.getElementById('chart1'));
                var chartOptions = {
                    theme: 'light', 
                    legend: 'shown', 
                    grid: true, 
                    tooltip: true, 
                    brushMoveEndAction: () => {}
                }
                var chartDataOptions = [
                    {}, 
                    {
                        dataType: 'events',
                        valueMapping: eventValueMapping,
                        height: 50, 
                        eventElementType: 'diamond', 
                        onElementClick: onElementClick},
                    {
                        dataType: 'categorical', 
                        valueMapping: valueMapping, 
                        height: 100, 
                        onElementClick: onElementClick, 
                        rollupCategoricalValues: true
                    }
                ]
                lineChart.render(chartData, chartOptions, chartDataOptions);
            }
        </script>
    </body>    
</html>
